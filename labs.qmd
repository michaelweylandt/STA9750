---
title: "{{< var course.short >}} - Slides, Labs, and In-Class Activities"
---

Most weeks, the "lecture" for {{< var course.short >}} will be focused on an
in-class "lab". These ungraded labs are an opportunity to see how the concepts
introduced in that week's [pre-assignment](./preassigns.html) are used in practice.

```{r}
#| echo: false
#| message: false
library(tidyverse)
library(glue)
library(yaml)

get_class_date <- function(N){
    read_csv("key_dates.csv") |>
        filter(`Course Element` == "Class Session", 
               `Item Number` == N) |>
        pull(Date) |>
        format("%A %B %d %Y")
}

get_class_topic <- function(N){
    read_csv("key_dates.csv") |>
        filter(`Course Element` == "Class Session", 
               `Item Number` == N) |>
        pull(Details)
}

get_lab_title <- function(N){
    lab_file <- glue("labs/lab{sprintf('%02d', N)}.qmd")
    lab_text <- readLines(lab_file, n=50)
    
    header_end <- which(grepl("---", lab_text))[2]
    
    header_info <- yaml.load(readLines(lab_file, n=header_end))
    
    I(header_info$lab_title %||% "TBD")
}

lab_line <- function(N){
    if(str_detect(get_class_topic(N), "Lecture")){
        topic <- get_class_topic(N)
        N <- str_extract(topic, "Lecture #(\\d+)", group=1) |>
                as.integer()
    }

    lab_file <- glue("labs/lab{sprintf('%02d', N)}.qmd")
    NN <- sprintf('%02d', N)
    
    if(file.exists(lab_file)){
        glue("\n    - [Lab #{NN}](./labs/lab{NN}.qmd): {get_lab_title(N)}", .trim=FALSE)
    } else {
        ""
    }
        
}

md_line <- function(N){
    NN <- sprintf('%02d', N)
    glue("Class Session #{NN} - {get_class_date(N)}
    - {get_class_topic(N)} {lab_line(N)}
    - [Slides #{NN}](./slides/slides{NN}.qmd)", 
    .trim=FALSE)

}
```

- `r md_line(1)`
- `r md_line(2)`
- `r md_line(3)`
- `r md_line(4)`
- `r md_line(5)`
- `r md_line(6)`
- `r md_line(7)`
- `r md_line(8)`
- `r md_line(9)`
- `r md_line(10)`
- `r md_line(11)`
- `r md_line(12)`
- `r md_line(13)`
- `r md_line(14)`
