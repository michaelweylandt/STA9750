{
  "hash": "e88a47192851b932b6e5249bbf17ed0c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"{{< var course.short >}} Mini-Project #{{< meta mp_num >}}: {{< meta mp_title >}}\"\nformat:\n  html:\n    code-link: true\necho: true\nmp_num: \"04\"\nmp_title: \"Exploring Recent US Political Shifts\"\nengine: knitr\n---\n\n\n\n$$\\newcommand{\\P}{\\mathbb{P}} \\newcommand{\\E}{\\mathbb{E}}$$\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n\n### Due Dates\n\n-   Released to Students: 2025\\-04\\-24\n-   **Initial Submission: 2025\\-05\\-07 11:45pm ET on GitHub and Brightspace**\n-   **Peer Feedback:**\n    -   Peer Feedback Assigned: 2025\\-05\\-08 on GitHub\n    -   **Peer Feedback Due: 2025\\-05\\-14 11:45pm ET on GitHub**\n\n\n*Estimated Time to Complete: 5 Hours*\n\n*Estimated Time for Peer Feedback: 1 Hour*\n\n------------------------------------------------------------------------\n\n## Introduction\n\nWelcome to Mini-Project #{{< meta mp_num >}}! Following the 2024 US Presidential\nelection, the New York Times published a [highly influential\nmap](https://www.nytimes.com/interactive/2024/11/06/us/politics/presidential-election-2024-red-shift.html)\ndepicting a national political shift to the right. This map, and associated \ncommentary, portended a national \"vibe shift\", which has already (arguably) been\nreflected throughout corporate, educational, and government sectors. In this\nmini-project, you will explore this national political shift, determining \nthe extent (if any) it may have been over- or under-exaggerated and developing \nappropriate visualizations. \n\nFor this mini-project, you will pay the roll of a partisan \"Talking Head\" aligned\nwith one of the two major US political parties. You will find facts supporting\nyour party's narrative and prepare related visualizations. For this project, you\nare encouraged (but not required) to adopt the opposite side of your own\npolitical beliefs.[^side] For example, if you adopt a Republican perspective,\nyou may choose to highlight the fact that 89% of counties nationwide voted more\nRepublican than in 2020; if you adopt a Democratic perspective, you may retort\nthat \"land doesn't vote\" and that a population weighted measure of national\nshift shows a far smaller effect. \n\n[^side]: It is well-documented that political partisans subject their opponents\nto far more rigorous critique than their co-partisans. By adopting a point-of-view\nopposite your own, you will not only (hopefully) become more sympathetic to \nand informed about alternative political views, but you will also perform a more\nrigorous analysis. Still, since I do not know and do not want to know your true\npolitical views, this is only a suggestion and cannot be enforced. \n \nNote that, compared to previous mini-projects, the scope of this project\nis relatively smaller: in light of this, and the more advanced skills you have\nspent the past 3 months developing, this mini-project should be the least\ndifficult of the course. At this point in the course, you should be spending the majority of your out-of-class hours on your [Course Project](../project.html). \n\nThis mini-project completes our whirlwind tour of several different\nforms of data-driven writing: \n\n- White-Papers and Policy Briefs ([MP#01](./mini01.html))\n- Quantifying Successful Public Policy Endeavors ([MP#02](./mini02.html))\n- Using Data to Supplement the Creative Process (\"assistive intelligence\",\n  [MP#03](./mini03.html))\n- Using Data to Support a Pre-Ordained Conclusion (this mini-project)\n\nThere are, of course, many other ways that data can be used to generate and\ncommunicate insights, but hopefully this \"hit parade\" has exposed you\nto many of the ways that you can use data to evaluate complex qualitative\nand quantitative claims outside of a binary classroom \"correct/incorrect\"\nstructure. The tools of quantitative analysis and communication you have\ndeveloped in this course can be used in essentially infinite contexts--\nwe have only scratched the surface--and I'm excited to see what you do\nin the remainder of this course, in your remaining time at Baruch, and\nin your future careers. \n\n### Student Responsbilities\n\nRecall our basic analytic workflow and table of student responsibilities:\n\n-   Data Ingest and Cleaning: Given a single data source, read it into `R` and transform it to a reasonably useful standardized format.\n-   Data Combination and Alignment: Combine multiple data sources to enable insights not possible from a single source.\n-   Descriptive Statistical Analysis: Take a data table and compute informative summary statistics from both the entire population and relevant subgroups\n-   Data Visualization: Generate insightful data visualizations to spur insights not attainable from point statistics\n-   Inferential Statistical Analysis and Modeling: Develop relevant predictive models and statistical analyses to generate insights about the *underlying population* and not simply the data at hand.\n\n+----------------------+---------------------+---------------------------+----------------------------------+---------------+\n|                      | Ingest and Cleaning | Combination and Alignment | Descriptive Statistical Analysis | Visualization |\n+:====================:+:===================:+:=========================:+:================================:+:=============:+\n| **Mini-Project #01** |                     |                           | **✓**                            |               |\n+----------------------+---------------------+---------------------------+----------------------------------+---------------+\n| **Mini-Project #02** |                     | **✓**                     | **✓**                            | **½**         |\n+----------------------+---------------------+---------------------------+----------------------------------+---------------+\n| **Mini-Project #03** | **½**               | **✓**                     | **✓**                            | **✓**         |\n+----------------------+---------------------+---------------------------+----------------------------------+---------------+\n| **Mini-Project #04** | **✓**               | **✓**                     | **✓**                            | **✓**         |\n+----------------------+---------------------+---------------------------+----------------------------------+---------------+\n\n: Students' Responsibilities in Mini-Project Analyses {.hover}\n\nIn this mini-project, you are in charge of the whole pipeline, from TBD to TBD. \nThe rubric below evaluates your work on all aspects of this project. \n\n### Rubric\n\n{{< var course.short >}} Mini-Projects are evaluated using *peer grading* with *meta-review* by the course GTAs. Specifically, variants of the following rubric will be used for the mini-projects:\n\n+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------+\n| Course Element        | Excellent (9-10)                                                                                                                                                                            | Great (7-8)                                                                                                                                                     | Good (5-6)                                                                                            | Adequate (3-4)                                                                                                                                             | Needs Improvement (1-2)                                                                             | Extra Credit                                                                                   |\n+=======================+=============================================================================================================================================================================================+=================================================================================================================================================================+=======================================================================================================+============================================================================================================================================================+=====================================================================================================+================================================================================================+\n| Written Communication | Report is well-written and flows naturally. Motivation for key steps is clearly explained to reader without excessive detail. Key findings are highlighted and appropriately given context. | Report has no grammatical or writing issues. Writing is accessible and flows naturally. Key findings are highlighted, but lack suitable motivation and context. | Report has no grammatical or writing issues. Key findings are present but insufficiently highlighted. | Writing is intelligible, but has some grammatical errors. Key findings are obscured.                                                                       | Report exhibits significant weakness in written communication. Key points are difficult to discern. | Report includes extra context beyond instructor provided information.                          |\n+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------+\n| Project Skeleton      | Code completes all instructor-provided tasks correctly. Responses to open-ended tasks are particularly insightful and creative.                                                             | Code completes all instructor-provided tasks satisfactorially.                                                                                                  | Response to one instructor provided task is skipped, incorrect, or otherwise incomplete.              | Responses to two instructor provided tasks are skipped, incorrect, or otherwise incomplete.                                                                | Response to three or ore instructor provided tasks are skipped, incorrect, or otherwise incomplete. | Report exhibits particularly creative insights drawn from thorough student-initiated analyses. |\n+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------+\n| Formatting & Display  | Tables and figures are full 'publication-quality'.                                                                                                                                          | Tables have well-formatted column names, suitable numbers of digits, and attractive presentation.                                                               | Tables are well-formatted, but still have room for improvement.                                       | Tables lack significant 'polish' and need improvement in substance (filtering and down-selecting of presented data) or style.                              | Unfiltered 'data dump' instead of curated table.                                                    | Report includes interactive (not just animated) visual elements.                               |\n|                       |                                                                                                                                                                                             |                                                                                                                                                                 |                                                                                                       |                                                                                                                                                            |                                                                                                     |                                                                                                |\n|                       | Report includes at least one animated visualization designed to effectively communicate findings.                                                                                           | Figures are 'publication-quality', with suitable axis labels, well-chosen structure, attractive color schemes, titles, subtitles, and captions, *etc.*          | Figures are above 'exploratory-quality', but do not reach full 'publication-quality'.                 | Figures are suitable to support claims made, but are 'exploratory-quality', reflecting minimal effort to customize and 'polish' beyond `ggplot2` defaults. | Baseline figures that do not fully support claims made.                                             |                                                                                                |\n+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------+\n| Code Quality          | Code is (near) flawless.                                                                                                                                                                    | Comments give context of the analysis, not simply defining functions used in a particular line.                                                                 | Code has well-chosen variable names and basic comments.                                               | Code executes properly, but is difficult to read.                                                                                                          | Code fails to execute properly.                                                                     | Code takes advantage of advanced `Quarto` features to improve presentation of results.         |\n|                       |                                                                                                                                                                                             |                                                                                                                                                                 |                                                                                                       |                                                                                                                                                            |                                                                                                     |                                                                                                |\n|                       | Code passes all `styler` and `lintr` type analyses without issue.                                                                                                                           |                                                                                                                                                                 |                                                                                                       |                                                                                                                                                            |                                                                                                     |                                                                                                |\n+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------+\n| Data Preparation      | Data import is fully-automated and efficient, taking care to only download from web-sources if not available locally.                                                                       | Data is imported and prepared effectively, in an automated fashion with minimal hard-coding of URLs and file paths.                                             | Data is imported and prepared effectively, though source and destination file names are hard-coded.   | Data is imported in a manner likely to have errors.                                                                                                        | Data is hard-coded and not imported from an external source.                                        | Report uses additional data sources in a way that creates novel insights.                      |\n+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------+\n\n: Mini-Project Grading Rubric\n\nNote that this rubric is designed with copious opportunities for extra credit \nif students go *above and beyond* the instructor-provided scaffolding. Students\npursuing careers in data analytics are strongly encouraged to go beyond the\nstrict ambit of the mini-projects to i) further refine their skills; ii) learn\nadditional techniques that can be used in the final course project; and iii)\ndevelop a more impressive professional portfolio.\n\nBecause students are encouraged to use {{< var course.short >}} mini-projects as\nthe basis for a professional portfolio, the basic skeleton of each project will\nbe released under a fairly permissive usage license. Take advantage of it!\n\n### Submission Instructions\n\nAfter completing the analysis, write up your findings, *showing all of \nyour code*, using a dynamic `quarto` document and post it to your course \nrepository. The `qmd` file should be named `mp04.qmd` so the rendered \ndocument can be found at `docs/mp04.html` in the student's repository \nand served at the URL:[^sub]\n\n> `https://<GITHUB_ID>.github.io/{{< var course.repo >}}/mp{{< meta mp_num >}}.html`\n\nOnce you confirm this website works (substituting `<GITHUB_ID>` for the actual \nGitHub username provided to the professor in [MP#00](./mini00.html) of course), \nopen a new issue at\n\n> `https://github.com/michaelweylandt/{{< var course.repo >}}/issues/new` .\n\nTitle the issue `{{< var course.short >}} <GITHUB_ID> MiniProject #{{< meta mp_num >}}` and \nfill in the following text for the issue:\n\n::: {#submission-text}\n\n```\nHi @michaelweylandt!\n\nI've uploaded my work for MiniProject #**{{< meta mp_num >}}** - check it out!\n\nhttps://<GITHUB_ID>.github.io/{{< var course.repo >}}/mp{{< meta mp_num >}}.html\n```\n\n:::\n\n\nOnce the submission deadline passes, the instructor will tag classmates for \npeer feedback in this issue thread.\n\n*Additionally*, a PDF export of this report should be submitted on Brightspace. \nTo create a PDF from the uploaded report, simply use your browser's 'Print to PDF'\nfunctionality.\n\n**NB**: The analysis outline below specifies key *tasks* you need to perform\nwithin your write up. Your peer evaluators will check that you complete these. \nYou are encouraged to do extra analysis, but the bolded **Tasks** are *mandatory*.\n\n**NB**: Your final submission should look like a *report*, not simply a list of\nfacts answering questions. Add introductions, conclusions, and your own\ncommentary. You should be practicing both raw *coding* skills and written\n*communication* in all mini-projects. There is little value in data points stated\nwithout context or motivation.\n\n[^sub]: Throughout this section, replace `<GITHUB_ID>` with your GitHub ID from\n[Mini-Project #00](./mini00.html), making sure to remove the angle brackets. Note\nthat the automated course infrastructure will be looking for precise formatting,\nso follow these instructions closely. \n\n## Mini-Project #{{< meta mp_num >}}: {{< meta mp_title >}}\n\nFor this project, we are going to need to collect election result data. As\nof the time I'm writing this project, it's surprisingly hard to find free, clean\ncounty-level election data, so we are going to use our new web-scraping skills\nto extract this data from Wikipedia. \n\n::: {.callout-danger title=\"Do Not Use Alternative Data Sources or `R` Packages\"}\n\nHigh-quality `R` packages exist to help work with some of the data providers\nused in this mini-project. Despite this, you **may not** use these packages: the\nlearning goal of this mini-project is to practice scraping and importing data\nfrom various web based services. Using `R` packages instead of scraping the data\n\"by hand\" will not provide this practice. By the same token, do not use \nalternative data sources. (That said, if you find better county level records of\nthe 2024 election, please let me know. I found this surprisingly difficult data\nto locate.)\n\n:::\n\n### County Shapes: US Census Bureau\n\nBegin by downloading a **shapefile** containing US county (and equivalent) \nboundaries from the [US Census\nBureau](https://www.census.gov/geographies/mapping-files/2023/geo/carto-boundary-file.html). Note that this file is available in three resolutions. I recommend \nthe finest resolution you can to produce the most accurate graphics, but if\nyour compute is struggling with high levels of detail, you should consider\nfalling back to the coarser resolutions. \n\n::: {.callout-tip title=\"Task 1: US County Shapefiles\"}\n\nWrite code to download an appropriate US County shapefile from the Census Bureau\nwebsite. To be responsible, your download code should: \n\n1) Only download the file if it is not already present\n2) Create a directory titled `data/mp04` if one is not already present\n3) Save the file in `data/mp04` and, if necessary, decompress it. \n4) Use built-in `R` functions like `download.file`\n\nSee previous mini-projects for guidance.\n\n:::\n\n### 2024 County-Level Election Results\n\nWe will next obtain *county-level* election results for each of the 50 US states. \nWhile most states make this data available via the Secretary of State or an \nElection Board, these sites are non-uniform and tricky to use in an automated\nfashion. Instead, we will take our results from Wikipedia. For each state, \nthere is a Wikipedia page describing the 2024 US Presidential Election results\nin that state; *e.g.*, [New\nYork](https://en.wikipedia.org/wiki/2024_United_States_presidential_election_in_New_York). \n\nEach of these pages has a table of county-level results which we need to extract. \n\n::: {.callout-tip title=\"Task 2: Acquire 2024 US Presidential Election Results\"}\n\nUsing `httr2` and `rvest` download county-level election results from Wikipedia\nfor each of the 50 US States. \n\nThis is a moderately advanced web-scraping exercise, so I recommend you approach\nit by writing a function which does the following. \n\n- Take a US state name as input\n- Construct an appropriate request using `httr2::request` and\n  `req_url_path()`[^spaces]\n- Performs the request, saving the result locally to avoid unnecessary repeated\n  downloads\n- Extracts all tables into a list object\n- Selects only the table with a column titled `County`\n- Appropriately cleans and parses the table\n- Adds a column with the state name\n\nNote that you will have to deal with various additional minor irregularities\nnot described above. For instance, at least one US State uses a term other than\n\"county\" to describe the relevant unit of government.\n\n[^spaces]: Note that Wikipedia allows spaces in URLs here, so you can use\n`https://en.wikipedia.org/wiki/2024 United States presidential election in New York`\nand it will be automatically corrected to \n`https://en.wikipedia.org/wiki/2024_United_States_presidential_election_in_New_York`. \n:::\n\nThe code used to extract EIA State Energy Profiles in an early mini-project may\nbe somewhat helpful here. \n\n### 2020 County-Level Election Results\n\nNext, modify your code to extract results for the 2020 election. \n\n::: {.callout-tip title=\"Task 3: Acquire 2020 US Presidential Election Results\"}\n\nModify your code from Task 2 to acquire 2020 US Presidential Election Results.\n\n:::\n\n### Combine Data and Perform Initial Analyses\n\nAt this point, we have all of the data needed to complete this mini-project \n(though you are, as always, welcome to download additional data you find helpful.)\nCombine the three data files (county shapes, 2020 results, 2024 results) and\nuse them to answer the following questions. \n\n::: {.callout-tip title=\"Task 4: Initial Analysis Questions\"}\n\nAnswer the following questions using the combined data sources. As always, as\nyou do this initial analysis, use it as an opportunity to verify that your data\nimport and cleaning was accurate. \n\n1. Which county or counties cast the most votes for Trump (in absolute terms) \n   in 2024? \n2. Which county or counties cast the most votes for Biden (as a fraction of\n   total votes cast) in 2020? \n3. Which county or counties had the largest shift towards Trump (in absolute \n   terms) in 2024? \n4. Which state had the largest shift towards Harris (or smallest shift towards \n   Trump) in 2024? (Note that the total votes for a state can be obtained by\n   summing all counties in that state.)\n5. What is the largest county, by area, in this data set? \n6. Which county has the highest voter density (voters per unit of area) in 2020?\n7. Which county had the largest increase in voter turnout in 2024? \n\n:::\n\n### Reproduce NYT Figure\n\nHaving confirmed our data is mainly reliable, we are now ready to reproduce\nthe [NYT \nFigure](https://www.nytimes.com/interactive/2024/11/06/us/politics/presidential-election-2024-red-shift.html)\nthat initially motivated this project. \n\nTo do so, you need to: \n\n1) Compute the shift (as a percentage of votes cast) rightwards for each county. \n2) Modify the geometry file to put Hawaii and Alaska in a more reasonable position\n   for visualization. This [StackOverflow\n   Answer](https://stackoverflow.com/a/78867955) has useful suggestions. \n3) Draw a map of the US with the modified geometry. [^lines]\n4) Compute the center point (\"centroid\") of each county. \n5) Add an arrow for each county, located at its centroid. The length of the \n   arrow should be proportional to the shift and the direction should indicate\n   whether that shift was rightward or leftward. \n\nYou may need to play around with the parameters defining each arrow to create \nan attractive plot. \n\n::: {.callout-tip title=\"Task 5: Reproduce NYT Figure\"}\n\nReproduce the NYT County Shift figure using the Census shapefiles and\nWikipedia-extracted election results.\n\n:::\n\n[^lines]: A map with lines for each county may be a bit too dense to read. You\nmight find it more visually appealing to take the\n\"[union](https://r-spatial.github.io/sf/reference/geos_combine.html)\" of\ncounties to get  states for creating the base map layer. \n\n### Additional Data Analysis\n\n::: {.callout-tip title=\"Task 6: Additional Analysis and Figure Creation\"}\n\nFurther analyze this data and come up with three partisan \"talking points\" \n(and associated figures) to support \"your side\".\n\nYour analysis should include at least two *computationally-intensive*\nstatistical tests, *e.g.*, \"did the median county shift by more than 5%?\". \nYou may implement these directly or with help of the [`infer`\npackage](https://infer.netlify.app/).\n\n:::\n\n## Deliverable: Partisan Talking Points\n\nTaking the position of a \"partisan hack\", analyze the 2024 election and argue\nthat Trump's victory was either a nationwide seismic shift portending a new era\nin American politics (if you adopt a Republican persona) or a narrow win made\nto look more meaningful than it actually was by accidents of geometry and\npolitical organization (if you adopt a Democratic persona). \n\nYou should write in the style of an \"op-ed\" or a television commercial script \n(your choice) attempting to influence national post-election discourse in support\nof your chosen side. \n\nHave some fun with this! You can be as shameless and over-the-top as you want. \nAfter all, it was a politician who (anecdotally) gave us the phrase: \n\n> [\"Lies, Damned Lies, and Statistics\"](https://en.wikipedia.org/wiki/Lies%2C_damned_lies%2C_and_statistics)\n\nand a (rather controversial) journalist who gave us\n\n> [*How to Lie with Statistics*](https://en.wikipedia.org/wiki/How_to_Lie_with_Statistics)\n\n## Extra Credit Opportunities\n\nThere are no structured opportunities for extra credit on this mini-project\nbeyond those stated in the rubric. As always, evaluators should assign\nappropriate extra credit (no more than 5 points total) for particularly creative\ninsights, use of additional data sources, attractive figures, *etc.*\n\n------------------------------------------------------------------------\n\nThis work ©2025 by [Michael Weylandt](https://michael-weylandt.com) is licensed\nunder a [Creative Commons BY-NC-SA \n4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en) license.\n![](http://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-nc-sa.png){width=\"10%\"}\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}